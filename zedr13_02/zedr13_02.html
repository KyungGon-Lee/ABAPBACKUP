<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<title>ZEDR13_02</title>
</head>
<body bgcolor="#FFFFE0">
<font size="3" face = "Arial" color="#000000"><b>Code listing for: ZEDR13_02</b></font>
<br>
<font size="3" face = "Arial" color="#000000"><b>Description:  Program ZEDR13_02</b></font>
<hr>
<pre width="100">
<font color ="#0000FF">*&---------------------------------------------------------------------*</font>
<font color ="#0000FF">*& Report ZEDR13_02</font>
<font color ="#0000FF">*&---------------------------------------------------------------------*</font>
<font color ="#0000FF">*&</font>
<font color ="#0000FF">*&---------------------------------------------------------------------*</font>
REPORT ZEDR13_02.

<font color ="#0000FF">*DATA : gs_data LIKE sflight,</font>
<font color ="#0000FF">*      gt_data LIKE TABLE OF sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_data,gs_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT *</font>
<font color ="#0000FF">*  INTO TABLE gt_data</font>
<font color ="#0000FF">*  FROM sflight</font>
<font color ="#0000FF">*  WHERE carrid = 'AA'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*LOOP AT gt_data INTO gs_data.</font>
<font color ="#0000FF">*WRITE :</font>
<font color ="#0000FF">*gs_data-CARRID,</font>
<font color ="#0000FF">*gs_data-CONNID,</font>
<font color ="#0000FF">*gs_data-FLDATE,</font>
<font color ="#0000FF">*gs_data-PRICE,</font>
<font color ="#0000FF">*gs_data-CURRENCY,</font>
<font color ="#0000FF">*gs_data-PLANETYPE,/.</font>
<font color ="#0000FF">*ENDLOOP.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  BREAK-POINT.</font>
<font color ="#0000FF">*</font>


<font color ="#0000FF">*DATA : gs_data LIKE sflight,</font>
<font color ="#0000FF">*      gt_data LIKE TABLE OF sflight WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_data,gt_data[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT</font>
<font color ="#0000FF">*   CARRID CONNID FLDATE PRICE CURRENCY PLANETYPE</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_data</font>
<font color ="#0000FF">*  FROM sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  LOOP AT gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  gt_data-CURRENCY = 'KRW'.</font>
<font color ="#0000FF">*  MODIFY gt_data INDEX SY-TABIX TRANSPORTING CURRENCY.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  WRITE :</font>
<font color ="#0000FF">*  gt_data-CARRID,</font>
<font color ="#0000FF">*  gt_data-CONNID,</font>
<font color ="#0000FF">*  gt_data-FLDATE,</font>
<font color ="#0000FF">*  gt_data-CURRENCY,</font>
<font color ="#0000FF">*  gt_data-PLANETYPE,/.</font>
<font color ="#0000FF">*ENDLOOP.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*--------------------------------------</font>



<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gt_mara TYPE TABLE OF MARA WITH HEADER LINE,</font>
<font color ="#0000FF">*       gt_makt TYPE TABLE OF MAKT WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_mara, gt_mara[], gt_makt, gt_makt[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT matnr mtart matkl meins</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_mara</font>
<font color ="#0000FF">*  FROM MARA.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT matnr SPRAS maktx maktg</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_makt</font>
<font color ="#0000FF">*  FROM MAKT</font>
<font color ="#0000FF">*  WHERE SPRAS = '3'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">* LOOP AT gt_mara.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  READ TABLE gt_makt WITH KEY matnr = gt_mara-matnr.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  IF SY-SUBRC EQ 0.</font>
<font color ="#0000FF">*   WRITE :</font>
<font color ="#0000FF">*   gt_mara-matnr,</font>
<font color ="#0000FF">*   gt_mara-mtart,</font>
<font color ="#0000FF">*   gt_makt-maktx,/.</font>
<font color ="#0000FF">*  ENDIF.</font>
<font color ="#0000FF">*ENDLOOP.</font>



<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : BEGIN OF gt_data OCCURS 0,</font>
<font color ="#0000FF">*matnr LIKE mara-matnr,</font>
<font color ="#0000FF">*mtart LIKE mara-mtart,</font>
<font color ="#0000FF">*matkl LIKE mara-matkl,</font>
<font color ="#0000FF">*meins LIKE mara-meins,</font>
<font color ="#0000FF">*maktx LIKE makt-maktx,</font>
<font color ="#0000FF">*END OF gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gt_mara TYPE TABLE OF mara WITH HEADER LINE,</font>
<font color ="#0000FF">*gt_makt TYPE TABLE OF makt WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_data, gt_data[], gt_mara, gt_mara[], gt_makt, gt_makt[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT matnr mtart matkl meins</font>
<font color ="#0000FF">*INTO CORRESPONDING FIELDS OF TABLE gt_mara</font>
<font color ="#0000FF">*FROM mara.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT matnr SPRAS maktx maktg</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_makt</font>
<font color ="#0000FF">*  FROM MAKT</font>
<font color ="#0000FF">*  WHERE SPRAS = '3'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  LOOP AT gt_mara.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    gt_data-matnr = gt_mara-matnr.</font>
<font color ="#0000FF">*    gt_data-mtart = gt_mara-mtart.</font>
<font color ="#0000FF">*    gt_data-matkl = gt_mara-matkl.</font>
<font color ="#0000FF">*    gt_data-meins = gt_mara-meins.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    READ TABLE gt_makt WITH KEY matnr = gt_mara-matnr.</font>
<font color ="#0000FF">*    IF sy-SUBRC EQ 0.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    gt_data-maktx = gt_makt-maktx.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    ENDIF.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    APPEND gt_data.</font>
<font color ="#0000FF">*    CLEAR gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  ENDLOOP.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*-----------------------------------------------------------------</font>


<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : BEGIN OF gt_data OCCURS 0,</font>
<font color ="#0000FF">*mblnr LIKE mkpf-MBLNR,</font>
<font color ="#0000FF">*mjahr LIKE mkpf-mjahr,</font>
<font color ="#0000FF">*vgart LIKE mkpf-VGART,</font>
<font color ="#0000FF">*blart LIKE mkpf-BLART,</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*ZEILE LIKE mseg-ZEILE,</font>
<font color ="#0000FF">*BWART LIKE mseg-BWART,</font>
<font color ="#0000FF">*MATNR LIKE mseg-matnr,</font>
<font color ="#0000FF">*WERKS LIKE mseg-werks,</font>
<font color ="#0000FF">*LGORT LIKE mseg-lgort,</font>
<font color ="#0000FF">*  END OF gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : gt_mkpf TYPE TABLE OF MKPF WITH HEADER LINE,</font>
<font color ="#0000FF">*       gt_mseg TYPE TABLE OF MSEG WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*CLEAR : gt_mkpf, gt_mkpf[], gt_mseg, gt_mseg[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT MBLNR MJAHR VGART BLART</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_mkpf</font>
<font color ="#0000FF">*  FROM MKPF</font>
<font color ="#0000FF">*  WHERE MJAHR = '2016'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*SELECT MBLNR ZEILE BWART MATNR WERKS LGORT</font>
<font color ="#0000FF">*  INTO CORRESPONDING FIELDS OF TABLE gt_mseg</font>
<font color ="#0000FF">*  FROM MSEG</font>
<font color ="#0000FF">*  WHERE MJAHR = '2016'</font>
<font color ="#0000FF">*  AND  ZEILE = '1'.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">* LOOP AT gt_mkpf.</font>
<font color ="#0000FF">*  READ TABLE gt_mseg WITH KEY mblnr = gt_mkpf-mblnr.</font>
<font color ="#0000FF">*  IF SY-SUBRC EQ 0.</font>
<font color ="#0000FF">* 1번방식</font>
<font color ="#0000FF">*   MOVE-CORRESPONDING gt_mkpf TO gt_data.</font>
<font color ="#0000FF">*   MOVE-CORRESPONDING gt_mseg TO gt_data.</font>

<font color ="#0000FF">*2번방식</font>
<font color ="#0000FF">*   gt_data-MBLNR = gt_mkpf-mblnr.</font>
<font color ="#0000FF">*   gt_data-mjahr = gt_mkpf-mjahr.</font>
<font color ="#0000FF">*   gt_data-VGART = gt_mkpf-VGART.</font>
<font color ="#0000FF">*   gt_data-BLART = gt_mkpf-BLART.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*   gt_data-ZEILE = gt_mseg-ZEILE.</font>
<font color ="#0000FF">*   gt_data-BWART = gt_mseg-BWART.</font>
<font color ="#0000FF">*   gt_data-matnr = gt_mseg-matnr.</font>
<font color ="#0000FF">*   gt_data-werks = gt_mseg-werks.</font>
<font color ="#0000FF">*   gt_data-lgort = gt_mseg-lgort.</font>

<font color ="#0000FF">*3번방식</font>
<font color ="#0000FF">*MOVE :</font>
<font color ="#0000FF">*gt_mkpf-MBLNR TO gt_data-MBLNR,</font>
<font color ="#0000FF">*gt_mkpf-mjahr TO gt_data-mjahr,</font>
<font color ="#0000FF">*gt_mkpf-VGART TO gt_data-VGART,</font>
<font color ="#0000FF">*gt_mkpf-BLART TO gt_data-BLART,</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*gt_mseg-ZEILE TO gt_data-ZEILE,</font>
<font color ="#0000FF">*gt_mseg-BWART TO gt_data-BWART,</font>
<font color ="#0000FF">*gt_mseg-matnr TO gt_data-matnr,</font>
<font color ="#0000FF">*gt_mseg-werks TO gt_data-werks,</font>
<font color ="#0000FF">*gt_mseg-lgort TO gt_data-lgort.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    APPEND gt_data.</font>
<font color ="#0000FF">*    CLEAR gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  ENDIF.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*ENDLOOP.</font>



<font color ="#0000FF">*----------------------------------------------------------</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*DATA : BEGIN OF gt_data OCCURS 0,</font>
<font color ="#0000FF">*  name(10),</font>
<font color ="#0000FF">*  sum1 TYPE i,</font>
<font color ="#0000FF">*  sum2 TYPE n,</font>
<font color ="#0000FF">*  sum3 TYPE p,</font>
<font color ="#0000FF">* END OF gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*gt_data-name = '홍길동'.</font>
<font color ="#0000FF">*gt_data-sum1 = 1.</font>
<font color ="#0000FF">*gt_data-sum2 = 1.</font>
<font color ="#0000FF">*gt_data-sum3 = 1.</font>
<font color ="#0000FF">*COLLECT gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*gt_data-name = '홍길동'.</font>
<font color ="#0000FF">*gt_data-sum1 = 1.</font>
<font color ="#0000FF">*gt_data-sum2 = 1.</font>
<font color ="#0000FF">*gt_data-sum3 = 1.</font>
<font color ="#0000FF">*COLLECT gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*gt_data-name = '홍길동'.</font>
<font color ="#0000FF">*gt_data-sum1 = 1.</font>
<font color ="#0000FF">*gt_data-sum2 = 1.</font>
<font color ="#0000FF">*gt_data-sum3 = 1.</font>
<font color ="#0000FF">*COLLECT gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*gt_data-name = '아무개'.</font>
<font color ="#0000FF">*gt_data-sum1 = 1.</font>
<font color ="#0000FF">*gt_data-sum2 = 1.</font>
<font color ="#0000FF">*gt_data-sum3 = 1.</font>
<font color ="#0000FF">*COLLECT gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*BREAK-POINT.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*------------------------------------------------------------</font>

<font color ="#0000FF">*DATA : BEGIN OF gt_data OCCURS 0,</font>
<font color ="#0000FF">*  carrid LIKE sflight-carrid,</font>
<font color ="#0000FF">*  connid LIKE sflight-connid,</font>
<font color ="#0000FF">*  price LIKE sflight-price,</font>
<font color ="#0000FF">*  END OF gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  DATA : gt_sflight TYPE TABLE OF sflight WITH HEADER LINE.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  CLEAR : gt_data, gt_data[], gt_sflight, gt_sflight[].</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*  SELECT carrid connid fldate price</font>
<font color ="#0000FF">*    INTO CORRESPONDING FIELDS OF TABLE gt_sflight</font>
<font color ="#0000FF">*    FROM sflight.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*    LOOP AT gt_sflight.</font>
<font color ="#0000FF">*      MOVE-CORRESPONDING gt_sflight TO gt_data.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*      COLLECT gt_data.</font>
<font color ="#0000FF">*      CLEAR gt_data.</font>
<font color ="#0000FF">*      ENDLOOP.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*      SORT gt_data BY carrid DESCENDING connid.</font>
<font color ="#0000FF">*      DELETE ADJACENT DUPLICATES FROM gt_data COMPARING carrid connid.</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*      DELETE gt_data WHERE carrid = 'AA'</font>
<font color ="#0000FF">*      AND ( connid = '64' OR connid = '17').</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*      BREAK-POINT.</font>
<font color ="#0000FF">*</font>

<font color ="#0000FF">*        DATA : BEGIN OF gt_data OCCURS 0,</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*</font>
<font color ="#0000FF">*        carrid LIKE sflight-carrid,</font>
<font color ="#0000FF">*        connid LIKE sflight-connid,</font>
<font color ="#0000FF">*        fldate LIKE sflight-fldate,</font>
<font color ="#0000FF">*        price LIKE sflight-price,</font>
<font color ="#0000FF">*        bookid LIKE sbook-bookid,</font>
<font color ="#0000FF">*        customid LIKE sbook-customid,</font>
<font color ="#0000FF">*        custtype LIKE sbook-custtype,</font>
<font color ="#0000FF">*        END OF gt_data.</font>


        DATA : BEGIN OF gt_data OCCURS 0,
          bookid LIKE sbook-bookid,
          customid LIKE sbook-customid,
          custtype LIKE sbook-custtype.

        include STRUCTURE sflight.
          DATA : END OF gt_data.


        CLEAR : gt_data, gt_data[].

        SELECT carrid connid fldate price
        INTO CORRESPONDING FIELDS OF TABLE gt_data
        FROM sflight
          ORDER BY fldate.

          SORT gt_data BY carrid connid.

          READ TABLE gt_data WITH KEY carrid = 'AA'
          CONNID = '64'
          BINARY SEARCH.

          WRITE : sy-subrc.
</pre>
<hr>
<font size="2" face = "Sans Serif">Extracted by Direct Download Enterprise version 1.3.1 - E.G.Mellodew. 1998-2005 UK. Sap Release 750
</font>
</body>
</html>
